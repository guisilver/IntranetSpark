<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	template="/WEB-INF/template.xhtml">
	<ui:define name="content">
		<h:form id="frmDupReq"
			rendered="#{SessaoMB.igp.sysAdmin || SessaoMB.igp.sysrequisicaoProtocolo}">
			<f:metadata>
				<f:event listener="#{pcoMB.duplicarProtocolo()}"
					type="preRenderView" />
			</f:metadata>

			<div class="layout-portlets-box">
				<div class="DispInlBlock TexAlLeft">
					<div class="Fleft">
						<h2 class="black Fs24 FontRalewayMedium">Nova Requisição de
							Protocolo</h2>
					</div>
				</div>
				<div class="Seperator"></div>

				<div class="Container100 Responsive100">
					<div class="ContainerIndent">
						<p:messages id="msg" showDetail="true" autoUpdate="false"
							closable="true" escape="true" showSummary="false"
							styleClass="msg" />
						<p:panel>
							<h:panelGrid columns="3" cellpadding="5">
								<p:outputLabel value="Gerente:" style="margin-bottom:10px" />
								<p:selectOneMenu value="#{pcoMB.gerenteBEAN}"
									converter="omnifaces.SelectItemsConverter" id="gerente"
									filter="true" required="true"
									requiredMessage="Insira um gerente!" filterMatchMode="contains"
									style="width:150px; margin-left:30px;">
									<p:ajax listener="#{pcoMB.listarCondominios()}"
										update=":frmDupReq:plgCondominio" />
									<f:selectItem itemLabel="Nenhum" noSelectionOption="true" />
									<f:selectItems value="#{pcoMB.listaDeGerentes}" var="item"
										itemLabel="#{item.nome}" itemValue="#{item}" />
								</p:selectOneMenu>
							</h:panelGrid>

							<h:panelGrid id="plgCondominio" columns="3" cellpadding="5">
								<p:outputLabel value="Condomínio:"
									style="margin-bottom:10px" />
								<p:selectOneMenu id="console" value="#{pcoMB.icBEAN}"
									style="width:150px;" filter="true" filterMatchMode="contains"
									converter="omnifaces.SelectItemsConverter" required="true"
									requiredMessage="Insira o condomínio!">
									<p:ajax update="@form:oplNomeCondo" />
									<f:selectItem itemLabel="Selecione" noSelectionOption="true" />
									<f:selectItems value="#{pcoMB.listaDeCondominio}" var="item"
										itemLabel="#{item.codigo}" itemValue="#{item}" />
								</p:selectOneMenu>
								<p:outputLabel id="oplNomeCondo" value="#{pcoMB.icBEAN.nome}" />
							</h:panelGrid>

							<hr />

							<h:panelGrid columns="2" cellpadding="5">
								<p:selectOneRadio value="#{pcoMB.rpBEAN.tipoAC}">
									<p:ajax listener="#{pcoMB.selecionaAC()}"
										update="@form:gridTorre,@form:gridUnidade,@form:ipNomeCliente" />
									<f:selectItem itemLabel="Outro" itemValue="O" />
									<f:selectItem itemLabel="Síndico" itemValue="S" />
									<f:selectItem itemLabel="Zelador" itemValue="Z" />
								</p:selectOneRadio>
							</h:panelGrid>

							<h:panelGrid columns="2" cellpadding="5" id="gridTorre">
								<p:outputLabel value="Torre:" style="margin-bottom:10px"
									rendered="#{pcoMB.rpBEAN.tipoAC eq 'O'}" />
								<p:selectOneMenu id="somBloco" value="#{pcoMB.bloco}"
									style="width:100px; text-align:center !important; margin-left:60px;"
									rendered="#{pcoMB.rpBEAN.tipoAC eq 'O'}">
									<f:selectItem itemLabel="Bloco" itemValue="" />
									<f:selectItems value="#{pcoMB.listaDeBloco}" var="items"
										itemValue="#{items.bloco}" itemLabel="#{items.bloco}" />
									<p:ajax update="frmDupReq:somUnidade" />
								</p:selectOneMenu>
							</h:panelGrid>

							<h:panelGrid columns="3" cellpadding="5" id="gridUnidade">
								<p:outputLabel value="Unidade:" style="margin-bottom:10px"
									rendered="#{pcoMB.rpBEAN.tipoAC eq 'O'}" />
								<p:selectOneMenu id="somUnidade" value="#{pcoMB.unidade}"
									filter="true" filterMatchMode="contains"
									style="width:100px; margin-left:35px;"
									rendered="#{pcoMB.rpBEAN.tipoAC eq 'O'}">
									<f:selectItem itemLabel="Unidade" />
									<f:selectItems value="#{pcoMB.listaDeUnidade}" var="items"
										itemValue="#{items.unidade}" itemLabel="#{items.unidade}" />
									<p:ajax update="frmDupReq:ipNomeCliente"
										listener="#{pcoMB.nomeCliente}" />
								</p:selectOneMenu>
								<p:outputLabel id="oplNomeCliente" value="#{pcoMB.amBEAN.nome}" />
							</h:panelGrid>

							<h:panelGrid columns="2" cellpadding="3">
								<p:outputLabel value="Sexo:" style="font-size:18px;" />
								<p:selectOneRadio id="console2" value="#{pcoMB.rpBEAN.sexo}"
									style="font-size:18px;margin-left:60px;">
									<f:selectItem itemLabel="F" itemValue="F" />
									<f:selectItem itemLabel="M" itemValue="M" />
								</p:selectOneRadio>
							</h:panelGrid>

							<h:panelGrid columns="2" cellpadding="3">
								<p:outputLabel value="Aos Cuidados:" />
								<p:inputText id="ipNomeCliente"
									value="#{pcoMB.rpBEAN.aosCuidados}"
									style="font-size:14px;width:403px;margin-left:2px; text-transform:uppercase;"
									maxlength="54" />
							</h:panelGrid>

							<h:panelGrid columns="3" cellpadding="3">
								<p:outputLabel value="Correio:" />
								<p:selectOneMenu id="selectCorreio"
									value="#{pcoMB.rpBEAN.correio}"
									style="margin-left:50px; width:100px;">
									<f:selectItem itemLabel="Selecione" itemValue="0" />
									<f:selectItem itemLabel="Malote" itemValue="Malote" />
									<f:selectItem itemLabel="Simples" itemValue="Simples" />
									<f:selectItem itemLabel="AR - End:" itemValue="AR" />
									<f:selectItem itemLabel="Sedex" itemValue="Sedex" />
									<p:ajax listener="#{pcoMB.selecionarLocal()}"
										update="frmDupReq:endCondominio, frmDupReq:opldiaMalote"
										resetValues="true" />
								</p:selectOneMenu>
								<p:outputLabel id="opldiaMalote"
									value="#{pcoMB.rpBEAN.diaMalote}" />
							</h:panelGrid>

							<h:panelGrid columns="2" cellpadding="3">
								<p:outputLabel value="Endereço:" />
								<p:inputText id="endCondominio" value="#{pcoMB.rpBEAN.endereco}"
									style="font-size:14px;width:403px;margin-left:30px; text-transform:uppercase;"
									maxlength="100" />
								<p:outputLabel value="Referente:" />
								<p:inputText required="true" value="#{pcoMB.rpBEAN.referencia}"
									id="ipNomeCabecalho" requiredMessage="Insira uma referência!"
									style="font-size:14px;width:403px;margin-left:30px; text-transform:uppercase;"
									maxlength="130" counterTemplate="{0} caracteres restantes." />
								<p:outputLabel value="Data:" />
								<p:calendar value="#{pcoMB.rpBEAN.feitoem}" type="date"
									pattern="dd-MM-yyyy" readonlyInput="true" effect="slide"
									locale="pt" timeZone="America/Sao_Paulo" navigator="true"
									required="true"
									style="font-size:14px;width:403px;margin-left:30px; text-transform:uppercase;"
									requiredMessage="A data de solicitação deve ser preenchida." />
							</h:panelGrid>
							<h:panelGrid columns="3" style="margin-top:15px;">
								<p:commandButton value="Voltar para Requisição" process="@this"
									action="/requisicao-cobranca?faces-redirect=true;"
									icon="fa fa-arrow-left Fs16 white" />

								<p:commandButton value="Salvar"
									action="#{pcoMB.salvarProtocolo()}"
									icon="fa fa-check Fs16 white" update="@form" />
							</h:panelGrid>
						</p:panel>
					</div>
				</div>
			</div>
		</h:form>
	</ui:define>

</ui:composition>