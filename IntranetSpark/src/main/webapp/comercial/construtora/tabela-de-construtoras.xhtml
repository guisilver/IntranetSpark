<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	template="/WEB-INF/template.xhtml">
	<ui:define name="content">

		<div class="layout-portlets-box"
			style="padding-top: 0px !important; padding-bottom: 0px !important;">
			<p:breadCrumb>
				<p:menuitem value="Home" url="/dashboard.xhtml" />
				<p:menuitem value="Atendimento"
					url="/comercial/atendimento/tabela-de-atendimento " />
				<p:menuitem value="Condomínio"
					url="/comercial/condominio/tabela-de-condominios" />
			</p:breadCrumb>
		</div>

		<div class="layout-portlets-box">
			<div class="DispInlBlock TexAlLeft">
				<div class="Fleft">
					<h2 class="black Fs24 FontRalewayMedium">Construtora/
						Incorporadora</h2>
				</div>
			</div>
			<div class="Seperator"></div>
			<div class="Container100 Responsive100">
				<div class="ContainerIndent">
					<h:form id="frmConstrutora"
						rendered="#{SessaoMB.igp.sysAdmin || SessaoMB.verificaDepto('Comercial')}">
						<h:panelGrid>
							<p:commandButton value="Nova Construtora"
								action="/comercial/construtora/cadastro-de-construtora"
								icon="fa fa-plus Fs16 white" onstart="PF('dlgStatus').show();"
								oncomplete="PF('dlgStatus').hide();" />
						</h:panelGrid>
						<br />
						<p:dataTable id="tblConstrutora" var="construtora"
							value="#{cmcaMB.listaConstrutora}" rows="50" paginator="true"
							rowsPerPageTemplate="50,100,200,500" rowKey="#{construtora.id}"
							style="font-size:12px; text-align:center;heigth:600px;">
							<f:facet name="header">Construtoras e Incorporadoras</f:facet>
							<f:facet name="footer">
								<p:outputLabel value="Exportar:" />
								<h:commandLink>
									<p:graphicImage library="imagens" name="excel.png" />
									<p:dataExporter type="xls"
										target=":frmConstrutora:tblConstrutora" fileName="condominio"
										pageOnly="false" />
								</h:commandLink>
							</f:facet>
							<p:column headerText="Código" style="width:80px;">
								<h:outputText value="#{construtora.id}" />
							</p:column>
							<p:column headerText="Nome" style="width:200px;">
								<h:outputText value="#{construtora.nome}" />
							</p:column>
							<p:column headerText="Responsável" style="width:100px;">
								<h:outputText value="#{construtora.responsavel}" />
							</p:column>
							<p:column headerText="Endereço" style="width:130px;">
								<h:outputText value="#{construtora.endereco}" />
							</p:column>
							<p:column headerText="Cidade" style="width:130px;">
								<h:outputText value="#{construtora.cidade}" />
							</p:column>
							<p:column headerText="Bairro" style="width:130px;">
								<h:outputText value="#{construtora.bairro}" />
							</p:column>
							<p:column headerText="Estado" style="width:100px;">
								<h:outputText value="Acre" rendered="#{construtora.estado == 1}" />
								<h:outputText value="Alagoas"
									rendered="#{construtora.estado == 2}" />
								<h:outputText value="Amapá"
									rendered="#{construtora.estado == 4}" />
								<h:outputText value="Amazonas"
									rendered="#{construtora.estado == 3}" />
								<h:outputText value="Bahia"
									rendered="#{construtora.estado == 5}" />
								<h:outputText value="Ceará"
									rendered="#{construtora.estado == 6}" />
								<h:outputText value="DistritoFederal"
									rendered="#{construtora.estado == 7}" />
								<h:outputText value="Espírito Santo"
									rendered="#{construtora.estado == 8}" />
								<h:outputText value="Goiás"
									rendered="#{construtora.estado == 9}" />
								<h:outputText value="Maranhão"
									rendered="#{construtora.estado == 10}" />
								<h:outputText value="Mato Grosso"
									rendered="#{construtora.estado == 13}" />
								<h:outputText value="Mato Grosso do Sul"
									rendered="#{construtora.estado == 12}" />
								<h:outputText value="Minas Gerais"
									rendered="#{construtora.estado == 11}" />
								<h:outputText value="Pará"
									rendered="#{construtora.estado == 14}" />
								<h:outputText value="Paraíba"
									rendered="#{construtora.estado == 15}" />
								<h:outputText value="Paraná"
									rendered="#{construtora.estado == 18}" />
								<h:outputText value="Pernambuco"
									rendered="#{construtora.estado == 16}" />
								<h:outputText value="Piauí"
									rendered="#{construtora.estado == 17}" />
								<h:outputText value="Rio de Janeiro"
									rendered="#{construtora.estado == 19}" />
								<h:outputText value="Rio Grande do Norte"
									rendered="#{construtora.estado == 20}" />
								<h:outputText value="Rio Grande do Sul"
									rendered="#{construtora.estado == 23}" />
								<h:outputText value="Rondônia"
									rendered="#{construtora.estado == 21}" />
								<h:outputText value="Roraima"
									rendered="#{construtora.estado == 22}" />
								<h:outputText value="Santa Catarina"
									rendered="#{construtora.estado == 24}" />
								<h:outputText value="São Paulo"
									rendered="#{construtora.estado == 26}" />
								<h:outputText value="Sergipe"
									rendered="#{construtora.estado == 25}" />
								<h:outputText value="Tocantins"
									rendered="#{construtora.estado == 27}" />
							</p:column>
							<p:column headerText="CEP" style="width:80px;">
								<h:outputText value="#{construtora.cep}" />
							</p:column>
							<p:column headerText="Tipo" style="width:100px;">
								<h:outputText value="Construtora"
									rendered="#{construtora.tipo eq 1}" />
								<h:outputText value="Incorporadora"
									rendered="#{construtora.tipo eq 2}" />
							</p:column>
							<p:column exportable="false" style="width:100px;">
								<p:commandButton title="Alterar"
									oncomplete="PF('dlgAlterarConstrutora').show();"
									update=":frmAlterarConstrutora"
									actionListener="#{cmcaMB.carregarDialogConstrutora(construtora)}"
									styleClass="btnLittle" icon="fa fa-pencil Fs16 white">
								</p:commandButton>
								<p:commandButton title="Consultar"
									oncomplete="PF('dlgConsultaConstrutora').show();"
									update=":frmConsultaConstrutora"
									actionListener="#{cmcaMB.carregarDialogConstrutora(construtora)}"
									style="margin-left: 5px !important" styleClass="btnLittle"
									icon="fa fa-search Fs16 white">
								</p:commandButton>
								<p:commandButton title="Excluir"
									oncomplete="PF('dlgExcluirConstrutora').show();"
									update=":frmExcluirConstrutora"
									actionListener="#{cmcaMB.carregarDialogConstrutora(construtora)}"
									style="margin-left: 5px !important" styleClass="btnLittle"
									icon="fa fa-trash Fs16 white"
									rendered="#{SessaoMB.igp.sysAdmin}">
								</p:commandButton>
							</p:column>
						</p:dataTable>
						
						<p:dialog widgetVar="dlgStatus" id="dlgStatus" header="Status"
							style="font-size:13px;" resizable="false" modal="true"
							closable="false">	
							Esta página pode levar alguns segundos.<br />
							Carregando...<br />
							<br />
							<p:graphicImage library="imagens" name="loader.gif" />
							<br />
						</p:dialog>
						<script type="text/javascript">
							function start() {
								PF('statusDialog').show();
							}
							function stop() {
								PF('statusDialog').hide();
								PF('relatorio').hide();
							}
						</script>						
						
					</h:form>
				</div>
			</div>
		</div>
		<ui:include
			src="/comercial/construtora/alteracao-de-construtora.xhtml" />
		<ui:include src="/comercial/construtora/consulta-de-construtora.xhtml" />
		<ui:include src="/comercial/construtora/exclusao-de-construtora.xhtml" />
	</ui:define>
</ui:composition>