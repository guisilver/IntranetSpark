<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">
	<style>
#frmFiltro table td {
	border: 0px !important;
}

.ui-selectoneradio tbody tr td {
	border: 0px !important;
}

.gridFiltro tbody tr td {
	border: 0px !important;
}
</style>
	<h:form id="frmFiltro"
		rendered="#{SessaoMB.igp.sysAdmin || SessaoMB.igp.sysDiretoria}">
		<p:growl autoUpdate="true" />
		<p:panelGrid id="gridFiltro" columns="1" styleClass="gridFiltro">
			<f:facet name="header">
				<h:outputText value="Filtros" />
			</f:facet>
			<h:panelGrid columns="2">
				<p:outputLabel for="pesquisarPor" value="Pesquisar Por:" />
				<p:selectOneRadio id="pesquisarPor" value="#{scMB.pesquisarPor}">
					<p:ajax update="tbvSC:frmFiltro:gridFiltro"
						listener="#{scMB.limparListas()}" />
					<f:selectItem itemLabel="Todos" itemValue="Todos" />
					<f:selectItem itemLabel="Condomínio" itemValue="Condominio" />
					<f:selectItem itemLabel="Carteira" itemValue="Carteira" />
				</p:selectOneRadio>

				<p:outputLabel id="txtCarteira" for="selectCarteira"
					value="Carteira:" rendered="#{scMB.pesquisarPor eq 'Carteira'}" />
				<p:selectOneMenu id="selectCarteira" value="#{scMB.gerente}"
					rendered="#{scMB.pesquisarPor eq 'Carteira'}"
					converter="omnifaces.SelectItemsConverter" style="width:65%;"
					filter="true" filterMatchMode="contains">
					<f:selectItem itemLabel="Carteira" noSelectionOption="true" />
					<f:selectItems var="gerente" value="#{scMB.listaGerentes}"
						itemLabel="#{gerente.nome}" itemValue="#{gerente}" />
				</p:selectOneMenu>

				<p:outputLabel id="txtGerente" for="selectGerente" value="Gerente:"
					rendered="#{scMB.renderizaMenuGerente}" />
				<p:selectOneMenu id="selectGerente" value="#{scMB.gerente}"
					rendered="#{scMB.renderizaMenuGerente}"
					converter="omnifaces.SelectItemsConverter" style="width:80%;">
					<p:ajax listener="#{scMB.listarCondominios}" update=":frmFiltro"
						resetValues="true" />
					<f:selectItem itemLabel="Gerente" noSelectionOption="true" />
					<f:selectItems var="gerente" value="#{scMB.listaGerentes}"
						itemLabel="#{gerente.nome}" itemValue="#{gerente}" />
				</p:selectOneMenu>

				<p:outputLabel id="txtCondominio" for="selectCondominio"
					value="Condomínio:" rendered="#{scMB.pesquisarPor eq 'Condominio'}" />
				<p:selectOneMenu id="selectCondominio" value="#{scMB.condominio}"
					rendered="#{scMB.pesquisarPor eq 'Condominio'}"
					converter="omnifaces.SelectItemsConverter" filter="true"
					filterMatchMode="contains" style="width:95%;">
					<f:selectItem itemLabel="Condomínio" noSelectionOption="true" />
					<f:selectItems var="cnd" value="#{scMB.listaCondominios}"
						itemLabel="#{cnd.codigo} - #{cnd.nome}" itemValue="#{cnd}" />
				</p:selectOneMenu>

				<p:outputLabel id="txtServico" for="selectServico" value="Serviço:"
					rendered="#{scMB.pesquisarPor eq 'Todos'}" />
				<p:selectOneMenu id="selectServico" value="#{scMB.servico}"
					rendered="#{scMB.pesquisarPor eq 'Todos'}" style="width:65%;">
					<f:selectItem itemLabel="Selecione um Serviço" />
					<f:selectItem itemLabel="Serviço 8" itemValue="8" />
					<f:selectItem itemLabel="Serviço 9" itemValue="9" />
					<f:selectItem itemLabel="Serviço 10" itemValue="10" />
					<f:selectItem itemLabel="Serviço 11" itemValue="11" />
				</p:selectOneMenu>

				<p:outputLabel id="txtClassificacao" for="selectClassificacao"
					value="Classificação:" rendered="#{scMB.pesquisarPor eq 'Todos'}" />
				<p:selectOneMenu id="selectClassificacao"
					value="#{scMB.classificacao}"
					rendered="#{scMB.pesquisarPor eq 'Todos'}" style="width:65%;">
					<f:selectItem itemLabel="Selecione uma Classificação" />
					<f:selectItem itemLabel="Residencial" itemValue="1" />
					<f:selectItem itemLabel="Comercial" itemValue="2" />
					<f:selectItem itemLabel="Casa" itemValue="3" />
					<f:selectItem itemLabel="Não Definido" itemValue="99" />
				</p:selectOneMenu>

			</h:panelGrid>
			<h:panelGrid columns="3">
				<p:outputLabel value="Período:" />
				<p:calendar value="#{scMB.dataInicial}" id="dataInicial"
					pattern="dd/MM/yyyy" locale="pt" timeZone="America/Sao_Paulo"
					styleClass="calendario" style="margin-left:45px;" />
				<p:calendar value="#{scMB.dataFinal}" id="dataFinal"
					pattern="dd/MM/yyyy" locale="pt" timeZone="America/Sao_Paulo"
					styleClass="calendario" />
			</h:panelGrid>
			<h:panelGrid width="100%" style="text-align:right;">
				<p:commandButton value="Filtrar"
					action="#{scMB.pesquisarSeguroConteudoCondomino()}"
					update="tbvSC:frmTblLote:dtHistorico"
					onstart="PF('dlgStatus').show();"
					oncomplete="PF('dlgStatus').hide();" icon="fa fa-search Fs16 white" />
			</h:panelGrid>
		</p:panelGrid>
	</h:form>
	<br />
	<h:form id="frmTblLote" target="_blank"
		rendered="#{SessaoMB.igp.sysAdmin || SessaoMB.igp.sysDiretoria}">
		<p:dataTable id="dtHistorico" var="seguro" value="#{scMB.listaSeguro}"
			filteredValue="#{impressaoBureauMB.fltrLotes}" rows="15"
			paginator="true" emptyMessage="Nenhum resultado encontrado!"
			style="font-size: 12px;text-align:center;"
			rowsPerPageTemplate="15,30,50,100">
			<f:facet name="header">
				<p:commandButton value="Exportar Excel"
					icon="fa fa-file-excel-o Fs16 white" ajax="false">
					<p:dataExporter type="xls" target="tbvSC:frmTblLote:dtHistorico"
						fileName="condomino" pageOnly="false"
						postProcessor="#{exportarBean.postProcessXLS}" />
				</p:commandButton>
				<p:commandButton value="Exportar CSV"
					icon="fa fa-file-code-o Fs16 white" ajax="false"
					style="margin-left:50px;">
					<p:dataExporter type="csv" target=":tbvSC:frmTblLote:dtHistorico"
						fileName="condomino" pageOnly="false" />
				</p:commandButton>
			</f:facet>
			<p:column>
				<f:facet name="header"> Codigo Identificador</f:facet>
				<h:outputText value=" " />
			</p:column>
			<p:column>
				<f:facet name="header"> Proprietario</f:facet>
				<h:outputText value="#{seguro.nome}" />
			</p:column>
			<p:column>
				<f:facet name="header"> Locador</f:facet>
				<h:outputText value=" " />
			</p:column>
			<p:column>
				<f:facet name="header"> Produto</f:facet>
				<h:outputText value="R" rendered="#{seguro.classificacao == '1'}" />
				<h:outputText value="C" rendered="#{seguro.classificacao == '2'}" />
				<h:outputText value="CS" rendered="#{seguro.classificacao == '3'}" />
				<h:outputText value="ND" rendered="#{seguro.classificacao == '99'}" />
			</p:column>
			<p:column>
				<f:facet name="header"> Logradouro</f:facet>
				<h:outputText value="#{seguro.logradouro}" />
			</p:column>
			<p:column>
				<f:facet name="header"> Endereco</f:facet>
				<h:outputText value="#{seguro.endereco}" />
			</p:column>
			<p:column>
				<f:facet name="header"> Numero</f:facet>
				<h:outputText value="#{seguro.nro_end}" />
			</p:column>
			<p:column>
				<f:facet name="header"> Complemento</f:facet>
				<h:outputText value=" Ap. #{seguro.unidade}" />
			</p:column>
			<p:column>
				<f:facet name="header"> Bairro</f:facet>
				<h:outputText value="#{seguro.bairro}" />
			</p:column>
			<p:column>
				<f:facet name="header"> CEP</f:facet>
				<h:outputText value="#{seguro.cep}" />
			</p:column>
			<p:column>
				<f:facet name="header"> Cidade</f:facet>
				<h:outputText value="#{seguro.cidade}" />
			</p:column>
			<p:column>
				<f:facet name="header"> Estado</f:facet>
				<h:outputText value="#{seguro.estado}" />
			</p:column>
			<p:column>
				<f:facet name="header"> Vigencia Inicial</f:facet>
				<h:outputText value="#{scMB.dataInicial}">
					<f:convertDateTime locale="pt" pattern="dd/MM/yyyy"
						timeZone="America/Sao_Paulo" />
				</h:outputText>
			</p:column>
			<p:column>
				<f:facet name="header"> Vigencia Final</f:facet>
				<h:outputText value="#{scMB.dataFinal}">
					<f:convertDateTime locale="pt" pattern="dd/MM/yyyy"
						timeZone="America/Sao_Paulo" />
				</h:outputText>
			</p:column>
			<p:column>
				<f:facet name="header"> E-mail Corretora</f:facet>
				<h:outputText value="landia@sicura.com.br" />
			</p:column>
			<p:column>
				<f:facet name="header"> Importancia Segurada</f:facet>
				<h:outputText value=" " />
			</p:column>
			<p:column>
				<f:facet name="header"> Premio</f:facet>
				<h:outputText value=" " />
			</p:column>
			<p:column>
				<f:facet name="header"> Cond/ Loc</f:facet>
				<h:outputText value="c" />
			</p:column>
			<p:column>
				<f:facet name="header"> Valor</f:facet>
				<h:outputText value="#{seguro.valor_recbto}" />
			</p:column>
			<p:columnGroup type="footer">
				<p:row>
					<p:column footerText="Serv. 8 " />
					<p:column footerText="#{scMB.tipoSeguro8()}"
						rendered="#{scMB.classificacao == '0'}" />
					<p:column footerText="#{scMB.tipoSeguro81()}"
						rendered="#{scMB.classificacao == '1'}" />
					<p:column footerText="#{scMB.tipoSeguro82()}"
						rendered="#{scMB.classificacao == '2'}" />
					<p:column footerText="#{scMB.tipoSeguro83()}"
						rendered="#{scMB.classificacao == '3'}" />
					<p:column footerText="#{scMB.tipoSeguro899()}"
						rendered="#{scMB.classificacao == '99'}" />
					<p:column footerText="R$ #{scMB.valorSeguro8()}"
						rendered="#{scMB.classificacao == '0'}" />
					<p:column footerText="R$ #{scMB.valorSeguro81()}"
						rendered="#{scMB.classificacao == '1'}" />
					<p:column footerText="R$ #{scMB.valorSeguro82()}"
						rendered="#{scMB.classificacao == '2'}" />
					<p:column footerText="R$ #{scMB.valorSeguro83()}"
						rendered="#{scMB.classificacao == '3'}" />
					<p:column footerText="R$ #{scMB.valorSeguro899()}"
						rendered="#{scMB.classificacao == '99'}" />
					<p:column footerText="Serv. 9 " />
					<p:column footerText="#{scMB.tipoSeguro9()}"
						rendered="#{scMB.classificacao == '0'}" />
					<p:column footerText="#{scMB.tipoSeguro91()}"
						rendered="#{scMB.classificacao == '1'}" />
					<p:column footerText="#{scMB.tipoSeguro92()}"
						rendered="#{scMB.classificacao == '2'}" />
					<p:column footerText="#{scMB.tipoSeguro93()}"
						rendered="#{scMB.classificacao == '3'}" />
					<p:column footerText="#{scMB.tipoSeguro999()}"
						rendered="#{scMB.classificacao == '99'}" />
					<p:column footerText="R$ #{scMB.valorSeguro9()}"
						rendered="#{scMB.classificacao == '0'}" />
					<p:column footerText="R$ #{scMB.valorSeguro91()}"
						rendered="#{scMB.classificacao == '1'}" />
					<p:column footerText="R$ #{scMB.valorSeguro92()}"
						rendered="#{scMB.classificacao == '2'}" />
					<p:column footerText="R$ #{scMB.valorSeguro93()}"
						rendered="#{scMB.classificacao == '3'}" />
					<p:column footerText="R$ #{scMB.valorSeguro999()}"
						rendered="#{scMB.classificacao == '99'}" />
					<p:column footerText="Serv. 10 " />
					<p:column footerText="#{scMB.tipoSeguro10()}"
						rendered="#{scMB.classificacao == '0'}" />
					<p:column footerText="#{scMB.tipoSeguro101()}"
						rendered="#{scMB.classificacao == '1'}" />
					<p:column footerText="#{scMB.tipoSeguro102()}"
						rendered="#{scMB.classificacao == '2'}" />
					<p:column footerText="#{scMB.tipoSeguro103()}"
						rendered="#{scMB.classificacao == '3'}" />
					<p:column footerText="#{scMB.tipoSeguro1099()}"
						rendered="#{scMB.classificacao == '99'}" />
					<p:column footerText="R$ #{scMB.valorSeguro10()}"
						rendered="#{scMB.classificacao == '0'}" />
					<p:column footerText="R$ #{scMB.valorSeguro101()}"
						rendered="#{scMB.classificacao == '1'}" />
					<p:column footerText="R$ #{scMB.valorSeguro102()}"
						rendered="#{scMB.classificacao == '2'}" />
					<p:column footerText="R$ #{scMB.valorSeguro103()}"
						rendered="#{scMB.classificacao == '3'}" />
					<p:column footerText="R$ #{scMB.valorSeguro1099()}"
						rendered="#{scMB.classificacao == '99'}" />
					<p:column footerText="Serv. 11 " />
					<p:column footerText="#{scMB.tipoSeguro11()}"
						rendered="#{scMB.classificacao == '0'}" />
					<p:column footerText="#{scMB.tipoSeguro111()}"
						rendered="#{scMB.classificacao == '1'}" />
					<p:column footerText="#{scMB.tipoSeguro112()}"
						rendered="#{scMB.classificacao == '2'}" />
					<p:column footerText="#{scMB.tipoSeguro113()}"
						rendered="#{scMB.classificacao == '3'}" />
					<p:column footerText="#{scMB.tipoSeguro1199()}"
						rendered="#{scMB.classificacao == '99'}" />
					<p:column footerText="R$ #{scMB.valorSeguro11()}"
						rendered="#{scMB.classificacao == '0'}" />
					<p:column footerText="R$ #{scMB.valorSeguro111()}"
						rendered="#{scMB.classificacao == '1'}" />
					<p:column footerText="R$ #{scMB.valorSeguro112()}"
						rendered="#{scMB.classificacao == '2'}" />
					<p:column footerText="R$ #{scMB.valorSeguro113()}"
						rendered="#{scMB.classificacao == '3'}" />
					<p:column footerText="R$ #{scMB.valorSeguro1199()}"
						rendered="#{scMB.classificacao == '99'}" />
					<p:column />
					<p:column />
					<p:column />
					<p:column footerText="Qnt. Total:" style="font-weight:bold;" />
					<p:column footerText="#{scMB.tipoSeguro()}"
						style="font-weight:bold;" />
					<p:column footerText="Valor Total:" style="font-weight:bold;" />
					<p:column footerText="R$ #{scMB.valorSeguro()}"
						style="font-weight:bold;" />
				</p:row>
			</p:columnGroup>
		</p:dataTable>
	</h:form>
</ui:composition>