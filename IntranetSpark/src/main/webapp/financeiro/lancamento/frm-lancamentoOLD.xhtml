<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
	<style>
#frmLancamento\3a dtVencimento>button {
	margin-left: 5px;
}

#frmLancamento\3a gridCreditoEmConta label,
	#frmLancamento\3a gridCreditoEmConta input {
	margin-right: 5px;
}

#frmLancamento\3a gridCreditoEmConta input {
	margin-right: 10px;
}

.fileupload-content {
	visibility: hidden !important;
	z-index: 2 !important;
	border-collapse: false !important;
	position: absolute !important;
}

.files {
	border-collapse: false;
	position: abostule;
	visibility: hidden;
}

.fileupload-buttonbar {
	border-width: 0px;
	background-color: white;
}
</style>
	<h:form id="frmLancamento" styleClass="frmLancamento">
		<div
			style="margin-left: 20px; margin-top: 15px; padding-top: 15px; padding-bottom: 15px;"
			align="center">
			<h:panelGrid
				style="width:auto;margin-left: auto; margin-right: auto;display:inline-block;vertical-align:top;"
				rendered="#{financeiroBean.grid1}">
				<p:panelGrid columns="2">
					<f:facet name="header">
						<p:outputLabel value="LANÇAMENTO" />
					</f:facet>
					<p:outputLabel value="Classificação" />
					<p:selectOneMenu value="#{financeiroBean.classificacao}">
						<f:selectItem itemLabel="Venda" itemValue="V" />
						<f:selectItem itemLabel="Serviços" itemValue="S" />
						<f:selectItem itemLabel="Venda / Serviços" itemValue="VS" />
					</p:selectOneMenu>

					<p:outputLabel value="Vencimento" for=":frmLancamento:dtVencimento" />
					<p:calendar id="dtVencimento" mask="true" locale="pt"
						timeZone="America/Sao_Paulo" pattern="dd/MM/yyyy"
						value="#{financeiroBean.vencimento}" required="true"
						requiredMessage="Insira a data de vencimento!" />


					<p:panelGrid>
						<p:outputLabel value="Pagamento Rateado:" />
					</p:panelGrid>

					<h:panelGrid id="panelSelRat" columns="4">
						<p:column />
						<p:selectOneRadio value="#{financeiroBean.rateado}">
							<f:selectItem itemLabel="S" itemValue="S" />
							<f:selectItem itemLabel="N" itemValue="N" />
							<p:ajax
								update=":frmLancamento:panelRat :frmLancamento:panelValRat :frmLancamento:colRateado :frmLancamento:pnlCtCont :frmLancamento:pnlNmCont" />
							<p:ajax listener="#{financeiroBean.limparRateio()}" />
						</p:selectOneRadio>
						<p:column />
						<h:panelGrid id="colRateado">
							<p:commandButton value="teste"
								rendered="#{financeiroBean.rateado == 'S'}" immediate="true"
								onclick="PF('dlgValRat').show();" />
						</h:panelGrid>
					</h:panelGrid>

					<h:panelGrid id="panelRat" columns="2">
						<p:outputLabel value="Valor"
							rendered="#{financeiroBean.rateado == 'N'}"
							styleClass="mascaraMonetaria" />
						<p:outputLabel value="Valor Bruto" for=":frmLancamento:txtValorBt"
							rendered="#{financeiroBean.rateado == 'S'}" />
					</h:panelGrid>

					<h:panelGrid id="panelValRat" columns="2">
						<p:column />
						<script type="text/javascript">
							$(PrimeFaces.escapeClientId('frmLancamento:txtValor')).maskMoney({prefix:'R$ ', thousands:'.', decimal:',', affixesStay: true});
						</script>
						<c:if test="#{financeiroBean.rateado == 'N'}">
							<p:inputText name="txtValor" id="txtValor"
								rendered="#{financeiroBean.rateado == 'N'}"
								value="#{financeiroBean.valor}" required="true"
								requiredMessage="Insira o valor!" />
						</c:if>
						<p:outputLabel id="txtValorBt"
							value="#{financeiroBean.rat.valorBruto}"
							rendered="#{financeiroBean.rateado == 'S'}">
							<f:convertNumber type="currency" currencySymbol="R$" locale="pt" />
						</p:outputLabel>
					</h:panelGrid>

					<h:panelGrid id="pnlNmCont" columns="2">
						<p:outputLabel value="Conta contábil"
							rendered="#{financeiroBean.rateado == 'N'}" />
						<p:outputLabel value="Qtde. de Contas"
							rendered="#{financeiroBean.rateado == 'S'}" />
					</h:panelGrid>

					<p:column>
						<h:panelGrid id="pnlCtCont" columns="2">
							<p:outputLabel value="Conta:"
								for=":frmLancamento:txtContaContabil"
								rendered="#{financeiroBean.rateado == 'N'}" />
							<p:column rendered="#{financeiroBean.rateado == 'N'}">
								<p:inputText id="txtContaContabil"
									rendered="#{financeiroBean.rateado == 'N'}"
									value="#{financeiroBean.contaContabil}"
									onkeypress="validate(event)" maxlength="9" required="true"
									requiredMessage="Insira a conta!">
									<p:ajax listener="#{financeiroBean.pesquisaContaCod()}"
										update=":frmLancamento:txtContaContabil,:frmLancamento:nomeContaContabil" />
								</p:inputText>
								<p:commandButton icon="ui-icon-search" immediate="true"
									rendered="#{financeiroBean.rateado == 'N'}"
									style="margin-left:5px;" onclick="PF('dlgPesqConta').show();" />
							</p:column>
							<p:outputLabel value="Nome:"
								rendered="#{financeiroBean.rateado == 'N'}" />
							<p:outputLabel id="nomeContaContabil"
								rendered="#{financeiroBean.rateado == 'N'}"
								value="#{financeiroBean.nomeConta}" style="margin-top:5px;" />

							<p:outputLabel value="#{financeiroBean.qtdeDeContas}"
								rendered="#{financeiroBean.rateado == 'S'}" />
						</h:panelGrid>
					</p:column>

					<p:outputLabel value="Tipo de Documento" />
					<p:selectOneMenu value="#{financeiroBean.tipoDocumento}">
						<f:selectItem itemLabel="Nota Fiscal" itemValue="NF" />
					</p:selectOneMenu>

					<p:outputLabel value="Fornecedor" />
					<p:column>
						<h:panelGrid columns="2">
							<p:outputLabel value="CPF/CNPJ:"
								for=":frmLancamento:txtFornecedor" />
							<p:column>
								<p:inputText id="txtFornecedor" onkeypress="validate(event)"
									value="#{financeiroBean.fornecedor}" maxlength="14">
									<p:ajax event="blur"
										listener="#{financeiroBean.pesquisaFornecedor()}"
										update=":frmLancamento:txtNomeFornecedor" />
								</p:inputText>
								<p:commandButton icon="ui-icon-search" immediate="true"
									style="margin-left:5px;"
									onclick="PF('dlgPesqFornecedor').show();" />
							</p:column>
							<p:outputLabel value="Nome:" />
							<p:outputLabel id="txtNomeFornecedor"
								value="#{financeiroBean.nomeFornecedor}" style="margin-top:5px;"
								disabled="true" />
						</h:panelGrid>
					</p:column>

					<p:outputLabel value="Empresa" />
					<p:inputText id="txtDescricao" value="#{financeiroBean.empresa}"
						maxlength="100">
						<p:ajax event="blur" update=":frmLancamento:colHistorico" />
					</p:inputText>

					<p:outputLabel value="N.F" />
					<p:inputText onkeypress="validate(event)" id="txtNF"
						value="#{financeiroBean.notaFiscal}" maxlength="10">
						<p:ajax event="blur" update=":frmLancamento:colHistorico" />
					</p:inputText>

					<p:outputLabel value="Emissão N.F" for=":frmLancamento:dtEmissaoNF" />
					<p:calendar id="dtEmissaoNF" mask="true" locale="pt"
						timeZone="America/Sao_Paulo" pattern="dd/MM/yyyy"
						value="#{financeiroBean.dtEmissaoNF}" />


					<p:outputLabel value="Histórico" />
					<p:inputTextarea id="txtComplemento"
						value="#{financeiroBean.complemento}" maxlength="100">
						<p:ajax event="blur" update=":frmLancamento:colHistorico" />
					</p:inputTextarea>

					<p:outputLabel value="Histórico Completo" />
					<h:panelGrid id="colHistorico"
						style="word-wrap:break-word;max-width:400px;">
						<p:column>
							<p
								style="word-wrap: break-word; max-width: 400px; text-align: left;"
								align="right">
								<p:outputLabel id="historico1" value="#{financeiroBean.empresa}"
									rendered="#{not empty financeiroBean.empresa}" />
								<p:outputLabel value="&nbsp;-&nbsp;"
									rendered="#{financeiroBean.empresa != null and not empty financeiroBean.notaFiscal and financeiroBean.notaFiscal gt 0}" />
								<p:outputLabel id="historico2"
									value="NF. #{financeiroBean.notaFiscal}"
									rendered="#{not empty financeiroBean.notaFiscal and financeiroBean.notaFiscal gt 0}" />
								<p:outputLabel value="&nbsp;-&nbsp;"
									rendered="#{(not empty financeiroBean.notaFiscal and not empty financeiroBean.complemento) or (not empty financeiroBean.empresa and not empty financeiroBean.complemento)}" />
								<p:outputLabel id="historico3"
									value="#{financeiroBean.complemento}"
									rendered="#{not empty financeiroBean.complemento}" />
							</p>
						</p:column>
					</h:panelGrid>
				</p:panelGrid>
			</h:panelGrid>
			<h:panelGrid id="gridDocs" border="0"
				style="display:inline-block;vertical-align:top;text-align:left"
				rendered="#{financeiroBean.grid1}">
				<p:commandButton value="Enviar arquivos" icon="ui-icon-plus"
					update=":frmUploadArquivo" process="@this"
					oncomplete="PF('dlgUploadArquivo').show();" />
				<p:column>
					<p:dataTable id="tblArquivos" var="item"
						value="#{financeiroBean.listaArquivos}"
						emptyMessage="Nenhum resultado encontrado." style="width:450px;"
						scrollable="true" scrollHeight="250">
						<p:column headerText="Id" style="width:130px;">
							<p:outputLabel value="#{financeiroBean.converte(item.id)}"
								style="color:blue;word-wrap:break-word;" />
						</p:column>
						<p:column headerText="Nome" style="width:150px;">
							<p:outputLabel value="${item.nome_arquivo}"
								style="color:blue;word-wrap:break-word;" />
						</p:column>
						<p:column style="width:45px;">
							<p:commandButton icon="ui-icon-closethick" style="color:red;"
								update=":frmLancamento:gridDocs" immediate="true"
								actionListener="#{financeiroBean.excDocumento(financeiroBean.listaArquivos.indexOf(item))}">
							</p:commandButton>
						</p:column>
						<p:column style="width:45px;">
							<p:commandButton
								actionListener="#{financeiroBean.dwldDocumento(financeiroBean.listaArquivos.indexOf(item))}"
								style="color:red;" icon="ui-icon-arrowthickstop-1-s"
								ajax="false">
								<p:fileDownload value="#{financeiroBean.arquivoDownload}" />
							</p:commandButton>
						</p:column>
					</p:dataTable>
				</p:column>
			</h:panelGrid>

			<h:panelGrid columns="2"
				style="width:400px;text-align:center;margin-top:15px;"
				rendered="#{financeiroBean.grid1}">
				<p:commandButton value="Limpar" update=":frmLancamento"
					icon="ui-icon-document" actionListener="#{financeiroBean.reset()}"
					immediate="true" ajax="false" />
				<p:commandButton value="Próximo"
					actionListener="#{financeiroBean.validaGrid1()}"
					update=":frmLancamento" icon="ui-icon-arrowthick-1-e" ajax="false" />
			</h:panelGrid>

			<p:panelGrid columns="2" style="margin-bottom:15px"
				rendered="#{financeiroBean.grid2}">
				<p:outputLabel value="Tipo de pagamento" />
				<p:selectOneMenu value="#{financeiroBean.tipoPagamento}">
					<p:ajax listener="#{financeiroBean.limpaTipoConta()}"
						update=":frmLancamento:gridTiposPagamento" />
					<f:selectItem itemLabel="Nenhum" noSelectionOption="true" />
					<f:selectItem itemLabel="Crédito em Conta" itemValue="5" />
					<f:selectItem itemLabel="DOC" itemValue="7" />
					<f:selectItem itemLabel="Ficha de Compensação / Boleto"
						itemValue="8" />
					<f:selectItem
						itemLabel="Concessionárias - água / luz / telefone / gás / etc"
						itemValue="E" />
				</p:selectOneMenu>


			</p:panelGrid>
			<h:panelGrid id="gridTiposPagamento"
				rendered="#{financeiroBean.grid2}">
				<!-- Crédito em Conta -->
				<p:panelGrid id="gridCreditoEmConta" columns="1"
					rendered="#{financeiroBean.tipoPagamento == '5'}"
					style="vertical-align:bottom;">
					<p:column>
						<p:outputLabel value="Favorecido"
							for=":frmLancamento:txtNomeFavorecidoCC" />
						<p:inputText value="#{financeiroBean.nomeFavorecido}"
							style="width:325px;" id="txtNomeFavorecidoCC" />
						<p:commandButton icon="ui-icon-search" style="margin-left:5px;"
							onclick="PF('dlgPesqFavorecido').show();" />
					</p:column>

					<p:column>
						<h:panelGrid columns="4">
							<p:outputLabel value="Código do Banco"
								for=":frmLancamento:txtCodBancoCC" />
							<p:inputText onkeypress="validate(event)" style="width:80px;"
								value="#{financeiroBean.codBanco}" id="txtCodBancoCC"
								maxlength="4">
								<p:ajax event="blur"
									listener="#{financeiroBean.pesquisarBanco()}"
									update=":frmLancamento:txtNomeBancoCC" />
							</p:inputText>
							<p:inputText id="txtNomeBancoCC"
								value="#{financeiroBean.nomeDoBanco}" style="width:400px;" />
							<p:commandButton icon="ui-icon-search" style="margin-left:5px;"
								onclick="PF('dlgPesqBanco').show();" />
						</h:panelGrid>
					</p:column>
					<p:column>
						<h:panelGrid columns="6">
							<p:outputLabel value="Código da Agência"
								for=":frmLancamento:txtCodAgenciaCC" />
							<p:inputText onkeypress="validate(event)" style="width:80px;"
								value="#{financeiroBean.codAgencia}" id="txtCodAgenciaCC" />
							<p:outputLabel value="C/C" for=":frmLancamento:txtContaCC" />
							<p:inputText style="width:300px;" value="#{financeiroBean.cc}"
								id="txtContaCC" />
							<p:outputLabel value="Digito" for=":frmLancamento:txtDigitoCC" />
							<p:inputText style="width:40px;" value="#{financeiroBean.dac}"
								id="txtDigitoCC" />
						</h:panelGrid>
					</p:column>
					<p:column>
						<h:panelGrid columns="6">
							<p:outputLabel value="Conta poupança"
								for=":frmLancamento:oneRadioCPoupancaCC" />
							<p:selectOneRadio id="oneRadioCPoupancaCC"
								value="#{financeiroBean.contaPoupanca}">
								<f:selectItem itemLabel="S" itemValue="S" />
								<f:selectItem itemLabel="N" itemValue="N" />
							</p:selectOneRadio>
							<p:outputLabel value="Tipo Pessoa"
								for=":frmLancamento:oneRadioTipoPessoaCC"
								style="margin-left:30px;" />
							<p:selectOneRadio value="#{financeiroBean.tipoPessoa}"
								id="oneRadioTipoPessoaCC">
								<f:selectItem itemLabel="F" itemValue="F" />
								<f:selectItem itemLabel="J" itemValue="J" />
							</p:selectOneRadio>
							<p:outputLabel value="CPF/CNPJ" style="margin-left:30px;"
								for=":frmLancamento:txtCpfCnpjCC" />
							<p:inputText style="width:150px;" id="txtCpfCnpjCC"
								value="#{financeiroBean.cpf_cnpj}" onkeypress="validate(event)" />
						</h:panelGrid>
					</p:column>
					<p:column rendered="false">
						<h:panelGrid columns="5">
							<p:outputLabel value="Tipo de pagamento" />
							<p:inputText style="width:80px;"
								value="#{financeiroBean.tipoPagto}" />
							<p:selectOneMenu style="width:300px;"
								value="#{financeiroBean.codBarras}" />
							<p:outputLabel value="Código do Movimento" />
							<p:inputText onkeypress="validate(event)" style="width:80px;"
								value="#{financeiroBean.codMovimento}" />
						</h:panelGrid>
					</p:column>
				</p:panelGrid>

				<p:panelGrid id="gridDoc" columns="1"
					rendered="#{financeiroBean.tipoPagamento == '7'}"
					style="vertical-align:bottom;">
					<p:column>
						<p:outputLabel value="Favorecido"
							for=":frmLancamento:txtNomeFavorecidoDoc" />
						<p:inputText value="#{financeiroBean.nomeFavorecido}"
							style="width:325px;" id="txtNomeFavorecidoDoc" />
						<p:commandButton icon="ui-icon-search" style="margin-left:5px;"
							onclick="PF('dlgPesqFavorecido').show();" />
					</p:column>
					<p:column>
						<h:panelGrid columns="4">
							<p:outputLabel value="Banco Destino"
								for=":frmLancamento:txtCodBancoDoc" />
							<p:inputText onkeypress="validate(event)" id="txtCodBancoDoc"
								style="width:80px;" value="#{financeiroBean.codBanco}"
								maxlength="4">
								<p:ajax listener="#{financeiroBean.pesquisarBanco()}"
									update=":frmLancamento:txtNomeBancoDoc" />
							</p:inputText>
							<p:inputText id="txtNomeBancoDoc"
								value="#{financeiroBean.nomeDoBanco}" style="width:400px;" />
							<p:commandButton icon="ui-icon-search" style="margin-left:5px;"
								onclick="PF('dlgPesqBanco').show();" />
						</h:panelGrid>
					</p:column>
					<p:column>
						<h:panelGrid columns="8">
							<p:outputLabel value="Agência"
								for=":frmLancamento:txtCodAgenciaDoc" />
							<p:inputText style="width:80px;"
								value="#{financeiroBean.codAgencia}" id="txtCodAgenciaDoc" />
							<p:outputLabel value="C/C" for=":frmLancamento:txtContaDoc" />
							<p:inputText style="width:250px;" value="#{financeiroBean.cc}"
								id="txtContaDoc" />
							<p:outputLabel value="Digito" for=":frmLancamento:txtDigitoDoc" />
							<p:inputText style="width:40px;" value="#{financeiroBean.dac}"
								id="txtDigitoDoc" />
						</h:panelGrid>
					</p:column>
					<p:column>
						<h:panelGrid columns="6">
							<p:outputLabel value="Conta poupança"
								for=":frmLancamento:txtCPoupancaDoc" />
							<p:selectOneRadio value="#{financeiroBean.contaPoupanca}"
								id="txtCPoupancaDoc">
								<f:selectItem itemLabel="S" itemValue="S" />
								<f:selectItem itemLabel="N" itemValue="N" />
							</p:selectOneRadio>
							<p:outputLabel value="Tipo Pessoa" style="margin-left:30px;"
								for=":frmLancamento:txtTipoPessoaDoc" />
							<p:selectOneRadio value="#{financeiroBean.tipoPessoa}"
								id="txtTipoPessoaDoc">
								<f:selectItem itemLabel="F" itemValue="F" />
								<f:selectItem itemLabel="J" itemValue="J" />
							</p:selectOneRadio>
							<p:outputLabel value="CPF/CNPJ" style="margin-left:30px;"
								for=":frmLancamento:txtCpfCnpjDoc" />
							<p:inputText style="width:150px;"
								value="#{financeiroBean.cpf_cnpj}" onkeypress="validate(event)"
								id="txtCpfCnpjDoc" />
						</h:panelGrid>
					</p:column>

					<p:column rendered="false">
						<h:panelGrid columns="5">
							<p:outputLabel value="Tipo de pagamento" />
							<p:inputText style="width:80px;"
								value="#{financeiroBean.tipoPagto}" />
							<p:selectOneMenu style="width:300px;" />
							<p:outputLabel value="Usar TED" />
							<p:selectBooleanCheckbox value="#{financeiroBean.usarTED}" />
						</h:panelGrid>
					</p:column>
				</p:panelGrid>


				<p:panelGrid rendered="#{financeiroBean.tipoPagamento == '8'}"
					columns="1">
					<p:column>
						<h:panelGrid columns="2">
							<p:outputLabel value="Código de barras"
								for=":frmLancamento:txtCodBarras" />
							<p:inputText id="txtCodBarras" style="width:700px;"
								value="#{financeiroBean.codigoBarras}"
								onkeydown="validaBarras(event);">
								<p:ajax event="blur" update=":frmLancamento:linhaDigBan"
									listener="#{financeiroBean.listarLinhaDigitavel()}" />
							</p:inputText>
						</h:panelGrid>
					</p:column>
					<p:column>
						<h:panelGrid columns="6" id="linhaDigBan">
							<p:outputLabel value="Linha digitável" />
							<p:inputMask mask="99999.99999" maxlength="11"
								value="#{financeiroBean.ldCampo1}" style="width:150px;" />
							<p:inputMask mask="99999.999999" maxlength="12"
								value="#{financeiroBean.ldCampo2}" style="width:150px;" />
							<p:inputMask mask="99999.999999" maxlength="12"
								value="#{financeiroBean.ldCampo3}" style="width:150px;" />
							<p:inputMask mask="9" maxlength="1"
								value="#{financeiroBean.ldDac}" style="width:40px;" />
							<p:inputMask mask="99999999999999" maxlength="14"
								value="#{financeiroBean.ldValor}" style="width:150px;"
								onblur="validaLD();" />
						</h:panelGrid>
					</p:column>
				</p:panelGrid>

				<p:panelGrid rendered="#{financeiroBean.tipoPagamento == 'E'}"
					columns="1">
					<p:column>
						<h:panelGrid columns="2">
							<p:outputLabel value="Código de barras"
								for=":frmLancamento:txtCodBarras2" />
							<p:inputText style="width:700px;" id="txtCodBarras2"
								value="#{financeiroBean.codigoBarras}"
								onkeydown="validaBarras(event);">
								<p:ajax event="blur" update=":frmLancamento:linhaDigConc"
									listener="#{financeiroBean.listarLinhaDigitavel()}" />
							</p:inputText>
						</h:panelGrid>
					</p:column>

					<p:column>
						<h:panelGrid columns="6" id="linhaDigConc">
							<p:outputLabel value="Linha digitável" />
							<p:inputMask mask="999999999999" maxlength="12"
								value="#{financeiroBean.concSegbarra1}" style="width:150px;" />
							<p:inputMask mask="999999999999" maxlength="12"
								value="#{financeiroBean.concSegbarra2}" style="width:150px;" />
							<p:inputMask mask="999999999999" maxlength="12"
								value="#{financeiroBean.concSegbarra3}" style="width:150px;" />
							<p:inputMask mask="999999999999" maxlength="12"
								value="#{financeiroBean.concSegbarra4}" style="width:150px;"
								onblur="validaLD();" />
						</h:panelGrid>
					</p:column>
				</p:panelGrid>
			</h:panelGrid>

			<h:panelGrid columns="2"
				style="width:400px;text-align:center;margin-top:15px;"
				rendered="#{financeiroBean.grid2}">
				<p:commandButton value="Voltar" update=":frmLancamento"
					icon="ui-icon-arrowthick-1-w" ajax="false">
					<f:setPropertyActionListener target="#{financeiroBean.grid1}"
						value="true" />
					<f:setPropertyActionListener target="#{financeiroBean.grid2}"
						value="false" />
				</p:commandButton>
				<p:commandButton id="btnProximo2" value="Próximo"
					update=":frmLancamento" icon="ui-icon-arrowthick-1-e"
					actionListener="#{financeiroBean.validaGrid2()}" ajax="false" />

			</h:panelGrid>

			<div
				style="margin-top: 20px; margin-bottom: 15px;display:#{financeiroBean.grid3 == true ? 'block' : 'none'}">
				<p:panelGrid columns="2"
					style="display:inline-block;text-align:left;"
					rendered="#{financeiroBean.grid3}">
					<f:facet name="header">
						<p:outputLabel value="RESUMO DO LANÇAMENTO" />
					</f:facet>
					<p:outputLabel value="Vencimento:" />
					<p:outputLabel value="#{financeiroBean.vencimento}">
						<f:convertDateTime pattern="dd/MM/yyyy"
							timeZone="America/Sao_Paulo" locale="pt" />
					</p:outputLabel>
					<p:outputLabel value="Valor:"
						rendered="#{financeiroBean.rateado == 'N'}" />
					<p:outputLabel value="#{financeiroBean.valor}"
						rendered="#{financeiroBean.rateado == 'N'}">
						<f:convertNumber type="currency" currencySymbol="R$" locale="pt" />
					</p:outputLabel>
					<p:outputLabel value="Valor Bruto:"
						rendered="#{financeiroBean.rateado == 'S'}" />
					<p:outputLabel value="#{financeiroBean.rat.valorBruto}"
						rendered="#{financeiroBean.rateado == 'S'}">
						<f:convertNumber type="currency" currencySymbol="R$" locale="pt" />
					</p:outputLabel>

					<p:outputLabel value="Conta:"
						rendered="#{financeiroBean.rateado == 'N'}" />
					<p:outputLabel value="#{financeiroBean.contaContabil}"
						rendered="#{financeiroBean.rateado == 'N'}" />

					<p:outputLabel value="Contas:"
						rendered="#{financeiroBean.rateado == 'S'}" />
					<p:column rendered="#{financeiroBean.rateado == 'S'}">
						<c:forEach var="item" items="#{financeiroBean.listaDeCodReduzido}">
							<p:outputLabel value="#{item}" />;&nbsp;
						<br />
						</c:forEach>
					</p:column>

					<p:outputLabel value="Fornecedor:" />
					<p:outputLabel value="#{financeiroBean.fornecedor}" />
					<p:outputLabel value="NF:" />
					<p:outputLabel value="#{financeiroBean.notaFiscal}" />
					<p:outputLabel value="Histórico:" />
					<p:column>
						<p:outputLabel id="historico1Resumo"
							value="#{financeiroBean.empresa}"
							rendered="#{not empty financeiroBean.empresa}" />
						<p:outputLabel value="&nbsp;-&nbsp;"
							rendered="#{financeiroBean.empresa != null and not empty financeiroBean.notaFiscal and financeiroBean.notaFiscal gt 0}" />
						<p:outputLabel id="historico2Resumo"
							value="NF. #{financeiroBean.notaFiscal}"
							rendered="#{not empty financeiroBean.notaFiscal and financeiroBean.notaFiscal gt 0}" />
						<p:outputLabel value="&nbsp;-&nbsp;"
							rendered="#{(not empty financeiroBean.notaFiscal and not empty financeiroBean.complemento) or (not empty financeiroBean.empresa and not empty financeiroBean.complemento)}" />
						<p:outputLabel id="historico3Resumo"
							value="#{financeiroBean.complemento}"
							rendered="#{not empty financeiroBean.complemento}" />
					</p:column>
					<p:outputLabel value="Tipo pagamento:" />
					<p:outputLabel value="#{financeiroBean.tipoPagamento}" />
					<p:outputLabel value="Cód. de barras:" />
					<p:outputLabel value="#{financeiroBean.codigoBarras}" />
					<p:outputLabel value="Id de imagem:" />
					<p:column>
						<c:forEach var="item" items="#{financeiroBean.listaArquivos}">
							<p:outputLabel value="#{financeiroBean.converte(item.id)}" />;&nbsp;
						<br />
						</c:forEach>
					</p:column>
				</p:panelGrid>

			</div>

			<c:if test="#{financeiroBean.rateado == 'N'}">
				<h:panelGrid columns="2"
					style="width:400px;text-align:center;margin-top:15px;"
					rendered="#{financeiroBean.grid3}">
					<p:commandButton value="Voltar" update=":frmLancamento"
						icon="ui-icon-arrowthick-1-w" ajax="false">
						<f:setPropertyActionListener target="#{financeiroBean.grid2}"
							value="true" />
						<f:setPropertyActionListener target="#{financeiroBean.grid3}"
							value="false" />
					</p:commandButton>
					<p:commandButton value="Salvar"
						action="#{financeiroBean.validaLancamento()}" icon="ui-icon-check" />
				</h:panelGrid>
			</c:if>
			<c:if test="#{financeiroBean.rateado == 'S'}">
				<h:panelGrid columns="2"
					style="width:400px;text-align:center;margin-top:15px;"
					rendered="#{financeiroBean.grid3}">
					<p:commandButton value="Voltar" update=":frmLancamento"
						icon="ui-icon-arrowthick-1-w" ajax="false">
						<f:setPropertyActionListener target="#{financeiroBean.grid2}"
							value="true" />
						<f:setPropertyActionListener target="#{financeiroBean.grid3}"
							value="false" />
					</p:commandButton>
					<p:commandButton value="Salvar"
						action="#{financeiroBean.addLanctoOmaRateado}"
						icon="ui-icon-check" />
				</h:panelGrid>
			</c:if>
		</div>

		<p:commandButton id="btnValidaBarras" value="atualizar"
			actionListener="#{financeiroBean.listarLinhaDigitavel()}"
			update=":frmLancamento:linhaDigBan,:frmLancamento:linhaDigConc"
			style="visibility:hidden;" oncomplete="focusProximo();" />

		<p:commandButton id="btnValidaLD" value="atualizar"
			actionListener="#{financeiroBean.listarCodigoBarras()}"
			update=":frmLancamento:txtCodBarras,:frmLancamento:txtCodBarras2"
			style="visibility:hidden;" oncomplete="focusProximo();" />

	</h:form>

	<h:outputScript library="javascript/maskMoney"
		name="jquery.maskMoney.js" />

	<script language="javascript">
	//<![CDATA[
  	$(document).ready(function(){
  		$(PrimeFaces.escapeClientId('frmLancamento:txtValor')).maskMoney({prefix:'R$ ', thousands:'.', decimal:',', affixesStay: true});
	});

	$(document).on('keypress',function(event){
		if (!$(event.target).is(":button")){
			if(event.keyCode == 13){
				event.preventDefault();
			}else{
				$('.ui-inputtext,.ui-inputtextarea').on('keyup', function(event){
					  var x = event.keyCode;
					  if((x>64&&x<91)||(x>96&&x<123)||(x>127&&x<155)||(x>159&&x<166) || (x==186)){
					  	up(this);
					  }
				});
			}
		}
	});
	
	function validaBarras(evt){
		var theEvent = evt || window.event;
		var key = theEvent.keyCode || theEvent.which;
		if (key == 13) {
			evt.preventDefault();
			$("[id='frmLancamento:btnValidaBarras']").click();
		}
	}

 	function validaLD(){
		$("[id='frmLancamento:btnValidaLD']").click();
	}
	
	function focusProximo(){
		$("[id='frmLancamento:btnProximo2']").focus();
	}
	//]]>
	</script>

</ui:composition>