<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	template="/WEB-INF/template.xhtml">
	<ui:define name="content">
		<div class="layout-portlets-box">
			<div class="DispInlBlock TexAlLeft">
				<div class="Fleft">
					<h2 class="black Fs24 FontRalewayMedium">Aprovação de Cadastro</h2>
				</div>
			</div>
			<div class="Seperator"></div>
			<div class="Container100 Responsive100">
				<div class="ContainerIndent">
					<p:messages autoUpdate="true" />
					<f:metadata>
						<f:event
							listener="#{recadastramentoMB.recebeClienteSelecionado()}"
							type="preRenderView" />
					</f:metadata>
					<h:form id="frmAprovacao">
						<p:panelGrid columns="6">
							<f:facet name="header">
								<p:outputLabel value="Unidade" />
							</f:facet>
							<p:outputLabel value="CND:" />
							<p:outputLabel
								value="#{recadastramentoMB.clienteSelecionado.unidade.codigo_cnd}"
								styleClass="Wid90" />
							<p:outputLabel value="Bloco:" />
							<p:outputLabel
								value="#{recadastramentoMB.clienteSelecionado.unidade.bloco}"
								styleClass="Wid90" />
							<p:outputLabel value="Unidade:" />
							<p:outputLabel
								value="#{recadastramentoMB.clienteSelecionado.unidade.unidade}"
								styleClass="Wid90" />
						</p:panelGrid>

						<p:panelGrid columns="4" style="margin-top:10px">
							<f:facet name="header">
								<p:outputLabel value="Informações Pessoais" />
							</f:facet>

							<p:outputLabel value="" />
							<p:outputLabel value="Antes" style="color:red;" />
							<p:outputLabel value="Agora" style="color:blue;" />
							<p:outputLabel value="Aprovar" style="color:green;" />

							<p:outputLabel value="Nome" />
							<p:outputLabel value="#{recadastramentoMB.clienteAntigo.nome}"
								styleClass="Wid90" />
							<p:column>
								<p:outputLabel
									value="#{recadastramentoMB.clienteSelecionado.nome}"
									styleClass="Wid90" />
								<p:graphicImage library="imagens" name="alert.png"
									rendered="#{recadastramentoMB.renderizarAlerta(recadastramentoMB.clienteSelecionado.nome,recadastramentoMB.clienteAntigo.nome)}"
									width="20" height="20" style="float:right;" />
							</p:column>
							<p:selectBooleanCheckbox value="#{recadastramentoMB.aprovaNome}">
								<p:ajax update=":frmAprovacao:gridBotoes" />
							</p:selectBooleanCheckbox>

							<p:outputLabel value="CPF" for="cpf" />
							<p:outputLabel
								value="#{recadastramentoMB.clienteAntigo.cnpj_cpf}" id="cpf"
								validator="ValidadorCPF" validatorMessage="CPF Inválido!"
								styleClass="Wid90" />
							<p:column>
								<p:outputLabel
									value="#{recadastramentoMB.clienteSelecionado.cnpj_cpf}"
									styleClass="Wid90" />
								<p:graphicImage library="imagens" name="alert.png"
									rendered="#{recadastramentoMB.renderizarAlerta(recadastramentoMB.clienteSelecionado.cnpj_cpf,recadastramentoMB.clienteAntigo.cnpj_cpf)}"
									width="20" height="20" style="float:right;" />
							</p:column>
							<p:selectBooleanCheckbox value="#{recadastramentoMB.aprovaCpf}">
								<p:ajax update=":frmAprovacao:gridBotoes" />
							</p:selectBooleanCheckbox>

							<p:outputLabel value="RG" for="rg" />
							<p:outputLabel
								value="#{recadastramentoMB.clienteAntigo.nro_identidade}"
								id="rg" styleClass="Wid90" />
							<p:column>
								<p:outputLabel
									value="#{recadastramentoMB.clienteSelecionado.nro_identidade}"
									styleClass="Wid90" />
								<p:graphicImage library="imagens" name="alert.png"
									rendered="#{recadastramentoMB.renderizarAlerta(recadastramentoMB.clienteSelecionado.nro_identidade,recadastramentoMB.clienteAntigo.nro_identidade)}"
									width="20" height="20" style="float:right;" />
							</p:column>
							<p:selectBooleanCheckbox value="#{recadastramentoMB.aprovaRg}">
								<p:ajax update=":frmAprovacao:gridBotoes" />
							</p:selectBooleanCheckbox>

							<p:outputLabel value="Profissão" for="profissao" />
							<p:outputLabel
								value="#{recadastramentoMB.clienteAntigo.profissao}"
								id="profissao" styleClass="Wid90" />
							<p:column>
								<p:outputLabel
									value="#{recadastramentoMB.clienteSelecionado.profissao}"
									styleClass="Wid90" />
								<p:graphicImage library="imagens" name="alert.png"
									rendered="#{recadastramentoMB.renderizarAlerta(recadastramentoMB.clienteSelecionado.profissao,recadastramentoMB.clienteAntigo.profissao)}"
									width="20" height="20" style="float:right;" />
							</p:column>
							<p:selectBooleanCheckbox
								value="#{recadastramentoMB.aprovaProfissao}">
								<p:ajax update=":frmAprovacao:gridBotoes" />
							</p:selectBooleanCheckbox>

							<p:outputLabel value="Data de Nascimento" for="nascimento" />
							<p:outputLabel
								value="#{recadastramentoMB.clienteAntigo.data_nascimento}"
								id="nascimento">
								<f:convertDateTime pattern="dd/MM/yyyy" locale="pt"
									timeZone="America/Sao_Paulo" />
							</p:outputLabel>
							<p:column>
								<p:outputLabel
									value="#{recadastramentoMB.clienteSelecionado.data_nascimento}"
									styleClass="Wid90">
									<f:convertDateTime pattern="dd/MM/yyyy" locale="pt"
										timeZone="America/Sao_Paulo" />
								</p:outputLabel>
								<p:graphicImage library="imagens" name="alert.png"
									rendered="#{recadastramentoMB.renderizarAlerta(recadastramentoMB.converteData(recadastramentoMB.clienteSelecionado.data_nascimento),recadastramentoMB.converteData(recadastramentoMB.clienteAntigo.data_nascimento))}"
									width="20" height="20" style="float:right;" />
							</p:column>
							<p:selectBooleanCheckbox
								value="#{recadastramentoMB.aprovaDataNascimento}">
								<p:ajax update=":frmAprovacao:gridBotoes" />
							</p:selectBooleanCheckbox>
						</p:panelGrid>

						<p:panelGrid columns="4" style="margin-top:10px;">
							<f:facet name="header">
								<p:outputLabel value="Contato" />
							</f:facet>

							<p:outputLabel value="" />
							<p:outputLabel value="Antes" style="color:red;" />
							<p:outputLabel value="Agora" style="color:blue;" />
							<p:outputLabel value="Aprovar" style="color:green;" />

							<p:outputLabel value="Deseja receber o boleto por e-mail?" />
							<p:selectBooleanCheckbox
								value="#{recadastramentoMB.boletoEnvioAntigo}" disabled="true" />
							<p:column>
								<p:selectBooleanCheckbox
									value="#{recadastramentoMB.boletoEnvio}" disabled="true" />
								<p:graphicImage library="imagens" name="alert.png"
									rendered="#{recadastramentoMB.renderizarAlerta(recadastramentoMB.boletoEnvio,recadastramentoMB.boletoEnvioAntigo)}"
									width="20" height="20" style="float:right;" />
							</p:column>
							<p:selectBooleanCheckbox
								value="#{recadastramentoMB.aprovaReceberBoleto}">
								<p:ajax update=":frmAprovacao:gridBotoes" />
							</p:selectBooleanCheckbox>

							<p:outputLabel value="Celular" for="celular" />
							<p:outputLabel
								value="#{recadastramentoMB.telefoneCelularAntigo.tel_email}"
								id="celular" styleClass="Wid90" required="true"
								requiredMessage="O número de celular deve ser informado!" />
							<p:column>
								<p:outputLabel
									value="#{recadastramentoMB.telefoneCelular.tel_email}"
									styleClass="Wid90" />
								<p:graphicImage library="imagens" name="alert.png"
									rendered="#{recadastramentoMB.renderizarAlerta(recadastramentoMB.telefoneCelular.tel_email,recadastramentoMB.telefoneCelularAntigo.tel_email)}"
									width="20" height="20" style="float:right;" />
							</p:column>
							<p:selectBooleanCheckbox
								value="#{recadastramentoMB.aprovaCelular}">
								<p:ajax update=":frmAprovacao:gridBotoes" />
							</p:selectBooleanCheckbox>

							<p:outputLabel value="Telefone Residencial" />
							<p:outputLabel
								value="#{recadastramentoMB.telefoneResidencialAntigo.tel_email}"
								styleClass="Wid90" />
							<p:column>
								<p:outputLabel
									value="#{recadastramentoMB.telefoneResidencial.tel_email}"
									styleClass="Wid90" />
								<p:graphicImage library="imagens" name="alert.png"
									rendered="#{recadastramentoMB.renderizarAlerta(recadastramentoMB.telefoneResidencial.tel_email,recadastramentoMB.telefoneResidencialAntigo.tel_email)}"
									width="20" height="20" style="float:right;" />
							</p:column>
							<p:selectBooleanCheckbox
								value="#{recadastramentoMB.aprovaTelResidencial}">
								<p:ajax update=":frmAprovacao:gridBotoes" />
							</p:selectBooleanCheckbox>

							<p:outputLabel value="Telefone Comercial" />
							<p:outputLabel
								value="#{recadastramentoMB.telefoneComercialAntigo.tel_email}"
								styleClass="Wid90" />
							<p:column>
								<p:outputLabel
									value="#{recadastramentoMB.telefoneComercial.tel_email}"
									styleClass="Wid90" />
								<p:graphicImage library="imagens" name="alert.png"
									rendered="#{recadastramentoMB.renderizarAlerta(recadastramentoMB.telefoneComercial.tel_email,recadastramentoMB.telefoneComercialAntigo.tel_email)}"
									width="20" height="20" style="float:right;" />
							</p:column>
							<p:selectBooleanCheckbox
								value="#{recadastramentoMB.aprovaTelComercial}">
								<p:ajax update=":frmAprovacao:gridBotoes" />
							</p:selectBooleanCheckbox>

							<p:outputLabel value="E-mail" />
							<p:outputLabel value="#{recadastramentoMB.emailAntigo.tel_email}"
								styleClass="Wid90" />
							<p:column>
								<p:outputLabel value="#{recadastramentoMB.email.tel_email}"
									styleClass="Wid90" />
								<p:graphicImage library="imagens" name="alert.png"
									rendered="#{recadastramentoMB.renderizarAlerta(recadastramentoMB.email.tel_email,recadastramentoMB.emailAntigo.tel_email)}"
									width="20" height="20" style="float:right;" />
							</p:column>
							<p:selectBooleanCheckbox value="#{recadastramentoMB.aprovaEmail}">
								<p:ajax update=":frmAprovacao:gridBotoes" />
							</p:selectBooleanCheckbox>
						</p:panelGrid>

						<h:panelGrid columns="3" id="gridBotoes" style="margin-top:10px;">
							<p:commandButton value="Voltar" action="/recadastramento.xhtml"
								icon="fa fa-arrow-left Fs16 white" />
							<p:commandButton value="Reprovar"
								onclick="PF('dlgReprovacao').show();"
								icon="fa fa-close Fs16 white" />
							<p:commandButton value="Aprovar"
								disabled="#{!recadastramentoMB.renderizaBotaoAprovar}"
								icon="fa fa-check Fs16 white"
								onclick="PF('dlgAprovacao').show();" />
						</h:panelGrid>
					</h:form>
				</div>
			</div>
		</div>

		<p:dialog widgetVar="dlgAprovacao" header="Aprovação" modal="true"
			draggable="false" resizable="false">
			<p:outputLabel value="Você confirma a " />
			<p:outputLabel value="APROVAÇÃO" style="color:blue;" />
			<p:outputLabel value=" deste cadastro?" />
			<br />
			<br />
			<h:form>
				<h:panelGrid style="width:100%;">
					<p:column>
						<p:commandButton value="Não" onclick="PF('dlgAprovacao').hide();"
							icon="fa fa-close Fs16 white" style="float:left;" />
						<p:commandButton value="Sim"
							action="#{recadastramentoMB.aprovar()}"
							icon="fa fa-check Fs16 white" ajax="false" style="float:right;" />
					</p:column>
				</h:panelGrid>
			</h:form>
		</p:dialog>

		<p:dialog widgetVar="dlgReprovacao" header="Reprovação" modal="true"
			draggable="false" resizable="false">
			<p:outputLabel value="Você confirma a " />
			<p:outputLabel value="REPROVAÇÃO" style="color:red;" />
			<p:outputLabel value=" deste cadastro?" />
			<br />
			<br />
			<h:form>
				<h:panelGrid>
					<p:outputLabel value="Motivo:" for="motivo" />
					<p:inputTextarea id="motivo" value="#{recadastramentoMB.obs}"
						required="true"
						requiredMessage="O motivo da reprovação deve ser informado!"
						maxlength="500" style="width:300px;" />
				</h:panelGrid>
				<h:panelGrid style="width:100%;">
					<p:column>
						<p:commandButton value="Não" onclick="PF('dlgReprovacao').hide();"
							process="@this" icon="fa fa-close Fs16 white" style="float:left;" />
						<p:commandButton value="Sim"
							action="#{recadastramentoMB.reprovar()}" update="@form"
							icon="fa fa-check Fs16 white" style="float:right;" />
					</p:column>
				</h:panelGrid>
			</h:form>
		</p:dialog>
	</ui:define>
</ui:composition>