<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

	<style>
.fontSize {
	font-size: 12px !important;
}

.btnLittle>.ui-icon {
	height: auto !important;
	top: 61% !important;
	font-size: 10px !important;
}
</style>
	<h:form id="frmBlackList"
		rendered="#{SessaoMB.igp.sysAdmin || SessaoMB.igp.sysSipGerencia}">

		<h:panelGrid columns="1">
			<p:outputLabel value="Combine opções abaixo:" />
			<p:outputLabel
				value="lembrando que selecionando apenas o condomínio o bloqueio será geral!" />
		</h:panelGrid>

		<h:panelGrid columns="2">
			<p:outputLabel value="Gerente: " />
			<p:selectOneMenu id="selectGerente" filter="true"
				requiredMessage="Selecione um gerente!" filterMatchMode="contains"
				required="true" value="#{SessaoMB.gerenteSelecionado}"
				converter="omnifaces.SelectItemsConverter" style="width:100%;">
				<p:ajax
					update=":frmBlackList:somCondominio :frmBlackList:dtBlackList"
					resetValues="true" />
				<f:selectItem itemLabel="Nenhum" noSelectionOption="true" />
				<f:selectItems var="gerente" value="#{SessaoMB.usuario.grupoGer}"
					itemLabel="#{gerente.nome}" itemValue="#{gerente}" />
			</p:selectOneMenu>
		</h:panelGrid>

		<h:panelGrid id="plg1" columns="4">
			<p:selectOneMenu id="somCondominio"
				value="#{blacklist.condoMB.codigo}" styleClass="fontSize"
				style="width: 140px !important;" filter="true"
				filterMatchMode="contains">
				<f:selectItem itemLabel="Condomínio" itemValue="0" />
				<f:selectItems var="item" value="#{blacklist.listaDeCondominios}"
					itemLabel="#{item.nome}" itemValue="#{item.codigo}" />
			</p:selectOneMenu>


			<p:inputMask value="#{blacklist.cnpj}" mask="99.999.999/9999-99"
				placeholder="CNPJ" styleClass="fontSize" />
			<p:inputText value="#{blacklist.blackListMB.contaContabil}"
				placeholder="Conta Contabil" styleClass="fontSize" />
			<p:commandButton value="Adicionar" action="#{blacklist.salvar()}"
				update="msgBlack" icon="fa fa-plus Fs16 white"
				style="float:right !important;" styleClass="fontSize" />
		</h:panelGrid>

		<p:messages id="msgBlack" autoUpdate="false" showSummary="true" />
		<p:separator styleClass="separator" />
		<p:commandButton value="Voltar Lançamentos"
			action="gerente-lancamento.xhtml" />
		<p:dataTable id="dtBlackList" var="p"
			value="#{blacklist.listaDeBlackList}"
			style="width: 700px !important;" paginator="true" rows="10"
			rowsPerPageTemplate="5,10,20">

			<p:column headerText="Condomínio"
				style="text-align: center !important;" styleClass="fontSize"
				sortBy="#{p.condominio}" filterBy="#{p.condominio}">
					#{p.condominio}
				</p:column>
			<p:column headerText="CNPJ" styleClass="fontSize" sortBy="#{p.cnpj}"
				filterBy="#{p.cnpj}" filterMatchMode="contains">
				<p:outputLabel value="#{p.cnpj == 0 ? '' : p.cnpj}">
					<f:convertNumber pattern="##############" />
				</p:outputLabel>
			</p:column>
			<p:column headerText="Conta Contabil" sortBy="#{p.contaContabil}"
				style="text-align: center !important;" styleClass="fontSize"
				filterBy="#{p.contaContabil}" filterMatchMode="contains">
				<p:outputLabel
					value="#{p.contaContabil == 0 ? '' : p.contaContabil}" />
			</p:column>

			<p:column headerText="Status" styleClass="fontSize"
				style="text-align: center !important;">
				<p:outputLabel
					value="#{p.statusItem == true ? 'Habilitado' : 'Desabitado'}"
					style="color: #{p.statusItem == true ? 'green' : 'red'}; "
					styleClass="fontSize" />
				<p:selectBooleanCheckbox value="#{p.statusItem}"
					styleClass="fontSize" style="margin-left:7px !important;">
					<p:ajax event="change"
						listener="#{blacklist.habilitarDesabilitar(p)}"
						update=":frmBlackList:msgBlack" />
				</p:selectBooleanCheckbox>
			</p:column>
			<p:column style="width:40px;text-align: center">
				<p:commandButton icon="fa fa-close Fs16 white" id="cmbExcluir"
					update=":frmBlackList:msgBlack" styleClass="btnLittle"
					title="Excluir" action="#{blacklist.deletarBlackList(p)}"
					style="margin-left: 5px !important">
				</p:commandButton>
			</p:column>
		</p:dataTable>


	</h:form>

</ui:composition>